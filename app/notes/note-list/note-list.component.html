<pn-note *ngIf="showActiveNotes" (onNoteAdded)="refreshNotes()"
  [beingEdited]="true" [noteBeingMovedIndex]="noteBeingMovedIndex"></pn-note>

<pn-note *ngFor="let note of notes; let i = index"
  (onMoveStarted)="onMoveStarted($event)"
  (onMoveEnded)="onMoveEnded($event)"
  (onNoteTrashed)="refreshNotes()"
  (onNoteUpdated)="refreshNotes()"
  [notes]="notes" [noteIndex]="i" [noteBeingMovedIndex]="noteBeingMovedIndex"
  [moveTargettable]="moveTargettableIndex(i)"></pn-note>

<pn-note *ngIf="showActiveNotes" [moveTargetOnly]="true" (onMoveEnded)="onMoveEnded($event)"
  [notes]="notes" [noteIndex]="notes.length" [noteBeingMovedIndex]="noteBeingMovedIndex"
  [moveTargettable]="moveTargettableIndex(notes.length)"></pn-note>
